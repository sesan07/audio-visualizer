<audio #audioElement [src]="selectedAudioConfig.src" (ended)="onEnded()"></audio>

<div class="visualizer-view"
     (click)="onVisualizerChange($event, null)">
    <ng-container *ngFor="let visualizer of visualizers">
        <app-visualizer [config]="visualizer"
                        [showOutline]="visualizer === activeVisualizer"
                        (click)="onVisualizerChange($event, visualizer)">
        </app-visualizer>
    </ng-container>
</div>

<div class="control-view">
    <div class="control-group card">
        <div class="media-controls">
            <button class="secondary-media-btn"
                    pButton pRipple
                    icon="pi pi-step-backward-alt"
                    (click)="onPrevSong()">
            </button>
            <button class="primary-media-btn"
                    pButton pRipple
                    [icon]="isPlaying ? 'pi pi-pause' : 'pi pi-play'"
                    (click)="onPlayPause()">
            </button>
            <button class="secondary-media-btn"
                    pButton pRipple
                    icon="pi pi-step-forward-alt"
                    (click)="onNextSong()">
            </button>
        </div>
        <p-dropdown class="song-select" [options]="audioConfigOptions"
                    [(ngModel)]="selectedAudioConfig"
                    placeholder="Select a Song"
                    optionLabel="src">
        </p-dropdown>
    </div>
    <div class="control-group card">
        <app-control name="Add Visualizer">
            <p-dropdown [options]="addVisualizerOptions"
                        [(ngModel)]="selectedAddVisualizer"
                        placeholder="Select an option">
            </p-dropdown>
            <button class="add-btn" pButton pRipple label="Add" (click)="onAddClicked()"></button>
        </app-control>
    </div>
    <app-visualizer-controller class="control-group card"
                               *ngIf="activeVisualizer"
                               [config]="activeVisualizer"
                               (remove)="onRemoveVisualizer()">
    </app-visualizer-controller>
</div>

